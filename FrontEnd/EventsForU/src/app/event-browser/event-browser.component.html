<h2>Browse Events</h2>

<div class="filter-controls mb-6 p-4 bg-gradient-to-r from-blue-50 to-indigo-50 rounded-lg shadow-md">
  <h3 class="text-xl font-semibold mb-4 text-gray-800 border-b pb-2">Filter & Search Events</h3>

  <div class="mb-4">
    <label for="search-input" class="block text-sm font-medium text-gray-700 mb-1">Search by Name or Place:</label>
    <input
      type="text"
      id="search-input"
      [(ngModel)]="searchTerm"
      placeholder="Enter search term..."
      class="w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm"
    />
  </div>

  <div class="mb-4">
    <label class="block text-sm font-medium text-gray-700 mb-1">By Category:</label>
    <div class="flex flex-wrap gap-2">
      <button (click)="selectCategory(null)"
              [ngClass]="{'bg-indigo-600 text-white shadow-md': selectedCategory === null, 'bg-white text-gray-700 hover:bg-gray-100 border border-gray-300': selectedCategory !== null}"
              class="px-3 py-1 text-sm rounded-md shadow-sm transition duration-150 ease-in-out">
        All Categories
      </button>
      <button *ngFor="let category of availableCategories"
              (click)="selectCategory(category)"
              [ngClass]="{'bg-indigo-600 text-white shadow-md': selectedCategory === category, 'bg-white text-gray-700 hover:bg-gray-100 border border-gray-300': selectedCategory !== category}"
              class="px-3 py-1 text-sm rounded-md shadow-sm transition duration-150 ease-in-out">
        {{ category }}
      </button>
    </div>
  </div>

  <div class="mb-4">
    <label class="block text-sm font-medium text-gray-700 mb-1">By Date:</label>
    <div class="flex flex-wrap gap-2">
      <button (click)="selectDate(null)"
              [ngClass]="{'bg-teal-600 text-white shadow-md': selectedDate === null, 'bg-white text-gray-700 hover:bg-gray-100 border border-gray-300': selectedDate !== null}"
              class="px-3 py-1 text-sm rounded-md shadow-sm transition duration-150 ease-in-out">
        All Dates
      </button>
      <button *ngFor="let date of availableDates"
              (click)="selectDate(date)"
              [ngClass]="{'bg-teal-600 text-white shadow-md': selectedDate === date, 'bg-white text-gray-700 hover:bg-gray-100 border border-gray-300': selectedDate !== date}"
              class="px-3 py-1 text-sm rounded-md shadow-sm transition duration-150 ease-in-out">
        {{ date }}
      </button>
    </div>
  </div>

  <div>
    <button (click)="resetFilters()"
            class="px-4 py-2 text-sm font-medium text-red-700 bg-red-100 hover:bg-red-200 rounded-md shadow-sm transition duration-150 ease-in-out">
      Reset All Filters
    </button>
  </div>

</div>

<app-event-list
  [eventsToShow]="filteredEvents"> </app-event-list>
